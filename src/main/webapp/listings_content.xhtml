<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:form id="quantityForm" style="overflow-y: scroll; margin: 80px auto;">
    <h:outputStylesheet name="deliveries.css" library="css"/>
    <p:tabView id="tabView">
        <p:tab title="Felvásárlási jegyek">
            <p:panel id="filterPanelCP" menuTitle="Szűrők">
                <table>
                    <tr>
                        <td>
                            <p:outputLabel for="nameFilter4" value="Név alapján: "/>
                            <p:selectOneMenu id="nameFilter4"
                                             value="#{displayController.filterName4}"
                                             panelStyle="overflow: scroll; left: 0;  position: static"
                                             style="width: 100%; box-sizing: border-box; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; min-width: 100%;"
                                             converter="#{vendorConverter}" filter="true" filterMatchMode="contains">
                                <p:ajax event="select" listener="#{vendorServiceImpl.allVendors}"
                                        update="nameFilter4"/>
                                <f:selectItem itemValue="#{null}" itemLabel="Válasszon" noSelectionOption="true"/>
                                <f:selectItems value="#{vendorServiceImpl.allVendors}" var="vendorvar"
                                               itemLabel="#{vendorvar.vendorName}(#{vendorvar.birthPlace}, #{vendorvar.formattedBirthDate})"
                                               itemValue="#{vendorvar}"/>
                            </p:selectOneMenu><br/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p:outputLabel for="dateFromFilter4" value="Dátum: "/>
                            <p:inputMask mask="9999.99.99" id="dateFromFilter4" value="#{displayController.filterDateFrom4}" >
                                <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                            </p:inputMask>
                            <p:outputLabel for="dateFromFilter4" value="-tól "/>
                            <p:inputMask mask="9999.99.99" id="dateToFilter4" value="#{displayController.filterDateTo4}" >
                                <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                            </p:inputMask>
                            <p:outputLabel for="dateFromFilter4" value="-ig"/>
                            <br/>
                            <p:outputLabel for="paidOnlyFilter4" value="Kiegyenlítés alapján: "/>
                            <p:selectOneMenu id="paidOnlyFilter4" value="#{displayController.paidOnly}" >
                                <f:selectItem itemValue="#{null}" noSelectionOption="true" itemLabel="Mind" />
                                <f:selectItem itemValue="#{true}"  itemLabel="Kiegyenlítetlen" />
                                <f:selectItem itemValue="#{false}"  itemLabel="Kiegyenlített" />
                            </p:selectOneMenu><br/>

                            <br/>
                            <p:outputLabel value="Fizetési mód: "/>
                            <p:selectOneMenu id="methodSelector4" value="#{displayController.filterPaymentMethodCP}" >
                                <f:selectItem itemValue="#{null}" noSelectionOption="true" itemLabel="Mind" />
                                <f:selectItem itemValue="Átutalás"  itemLabel="Átutalás" />
                                <f:selectItem itemValue="Készpénz"  itemLabel="Készpénz" />
                            </p:selectOneMenu>
                            <br/>
                            <p:outputLabel for="serialFilter4" value="Sorszám: "/>
                            <p:inputText id="serialFilter4" value="#{displayController.numSerial}" />
                        </td>
                    </tr>
                </table>
                <p:commandButton id="doFilterButton4" value="SZŰRÉS" actionListener="#{displayController.refreshCPDTOS()}" update="CPList"/>
            </p:panel>

            <p:dataTable var="cPurchase" value="#{displayController.CPDTOS}" id="CPList"   tableStyle="width: auto"
                           style="overflow-x: scroll; margin-bottom: 5em" allowUnsorting="true" sortMode="single"
                         emptyMessage="Nincs találat" resizableColumns="true">

                <p:columnGroup type="header" >
                    <p:row >
                        <p:column headerText="Sorszám" />
                        <p:column headerText="Eladó neve"/>
                        <p:column headerText="Felv. dátum" sortOrder="asc" sortBy="#{cPurchase.receiptDate}"/>
                        <p:column headerText="Fiz. dátum"  />
                        <p:column headerText="Fiz.Mód"/>
                        <p:column headerText="I.OSZT"/>
                        <p:column headerText="II.OSZT"/>
                        <p:column headerText="III.OSZT"/>
                        <p:column headerText="IV.OSZT"/>
                        <p:column headerText="GYÖKÉR"/>
                        <p:column headerText="IPARI"/>
                        <p:column headerText="VÉTELÁR" colspan="2"/>


                    </p:row>
                    <p:row>
                        <p:column colspan="5" headerText="Összesen: " style="text-align: end"/>
                        <p:column  headerText="#{displayController.sumOnes()}" />
                        <p:column  headerText="#{displayController.sumTwos()}" />
                        <p:column  headerText="#{displayController.sumThrees()}" />
                        <p:column  headerText="#{displayController.sumFours()}" />
                        <p:column  headerText="#{displayController.sumFives()}" />
                        <p:column  headerText="#{displayController.sumSixes()}" />
                        <p:column  headerText="#{displayController.getFormattedNumber(displayController.sumPrices())} HUF" />

                        <p:column  />
                    </p:row>

                </p:columnGroup>
                <p:column   >
                    <h:outputText value="#{cPurchase.newSerial}" />
                </p:column>
                <p:column   >
                    <h:outputText value="#{cPurchase.vendor.vendorName}"/>
                </p:column>
                <p:column sortBy="#{cPurchase.receiptDate}" sortOrder="asc" >
                    <h:outputText value="#{cPurchase.receiptDate}">
                        <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                    </h:outputText>
                </p:column>
                <p:column  >
                    <h:outputText value="#{cPurchase.paymentDate}">
                        <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                    </h:outputText>
                </p:column>
                <p:column  >
                    <h:outputText value="#{cPurchase.paymentMethod}"/>
                </p:column>
                <p:column    >
                    <h:outputText value="#{cPurchase.one}"/>
                </p:column>
                <p:column headerText="II.OSZT"   >
                    <h:outputText value="#{cPurchase.two}"/>
                </p:column>
                <p:column headerText="III.OSZT"   >
                    <h:outputText value="#{cPurchase.three}"/>
                </p:column>
                <p:column headerText="IV.OSZT"  >
                    <h:outputText value="#{cPurchase.four}"/>
                </p:column>
                <p:column headerText="GYÖKÉR"   >
                    <h:outputText value="#{cPurchase.five}"/>
                </p:column>
                <p:column headerText="IPARI"   >
                    <h:outputText value="#{cPurchase.six}"/>
                </p:column>
                <p:column headerText="Vételár"    >
                    <h:outputText value="#{cPurchase.formattedTotalPrice} HUF"/>
                </p:column>

            </p:dataTable>
        </p:tab>
        <p:tab title="Eladások">
            <p:panel id="filterPanelSale" menuTitle="Szűrők">
                <table>
                    <tr>
                        <td>
                            <p:outputLabel for="nameFilter2" value="Név alapján: "/>
                            <p:selectOneMenu id="nameFilter2"
                                             value="#{displayController.filterName2}"
                                             panelStyle="overflow: scroll; left: 0;  position: static"
                                             style="width: 100%; box-sizing: border-box; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; min-width: 100%;"
                                             converter="#{buyerConverter}" filter="true" filterMatchMode="contains">
                                <p:ajax event="select" listener="#{buyerServiceImpl.allBuyers}"
                                        update="nameFilter2"/>
                                <f:selectItem itemValue="#{null}" itemLabel="Válasszon" noSelectionOption="true"/>
                                <f:selectItems value="#{buyerServiceImpl.allBuyers}" var="buyervar"
                                               itemLabel="#{buyervar.name}(#{buyervar.address})"
                                               itemValue="#{buyervar}"/>
                            </p:selectOneMenu><br/>

                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p:outputLabel for="dateFromFilter2" value="Dátum: "/>
                            <p:inputMask mask="9999.99.99" id="dateFromFilter2" value="#{displayController.filterDateFrom2}" >
                                <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                            </p:inputMask>
                            <p:outputLabel for="dateFromFilter2" value="-tól "/>
                            <p:inputMask mask="9999.99.99" id="dateToFilter2" value="#{displayController.filterDateTo2}" >
                                <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                            </p:inputMask>
                            <p:outputLabel for="dateFromFilter2" value="-ig"/><br/>
                            <p:outputLabel for="paperSelector2" value="Papírozott: "/>
                            <p:selectOneMenu id="paperSelector2" value="#{displayController.filterPaper2}" >
                                <f:selectItem itemValue="#{null}" noSelectionOption="true" itemLabel="Mind" />
                                <f:selectItem itemValue="Igen"  itemLabel="Csak papírozott" />
                                <f:selectItem itemValue="Nem"  itemLabel="Csak papírozatlan" />
                            </p:selectOneMenu><br/>
                            <p:outputLabel for="letaiSelector2" value="Létais: "/>
                            <p:selectOneMenu id="letaiSelector2" value="#{displayController.filterLetaiOnly2}" >
                                <f:selectItem itemValue="#{null}" noSelectionOption="true" itemLabel="Mind"  />
                                <f:selectItem itemValue="#{true}"  itemLabel="Csak Létais" />
                                <f:selectItem itemValue="#{false}"  itemLabel="Csak nem Létais" />
                            </p:selectOneMenu><br/>
                            <p:outputLabel for="globalGapSelector2" value="Globalgapes: "/>
                            <p:selectOneMenu id="globalGapSelector2" value="#{displayController.filterGlobalGapOnly2}" >
                                <f:selectItem itemValue="#{null}" noSelectionOption="true" itemLabel="Mind" />
                                <f:selectItem itemValue="#{true}"  itemLabel="Csak GlobalGap" />
                                <f:selectItem itemValue="#{false}"  itemLabel="Csak nem GlobalGap" />
                            </p:selectOneMenu><br/>


                            <p:outputLabel value="Kiegyenlítés alapján: "/>
                            <p:selectOneMenu id="paidSelector2" value="#{displayController.filterUnpaidOnly2}" >
                                <f:selectItem itemValue="#{null}" noSelectionOption="true" itemLabel="Mind" />
                                <f:selectItem itemValue="#{true}"  itemLabel="Kiegyenlítetlen" />
                                <f:selectItem itemValue="#{false}"  itemLabel="Kiegyenlített" />
                            </p:selectOneMenu><br/>

                            <p:outputLabel for="currencySelector2" value="Valuta: "/>
                            <p:selectOneMenu id="currencySelector2" value="#{displayController.filterCurrency2}" >
                                <f:selectItem itemValue="#{null}" noSelectionOption="true" itemLabel="Mind" />
                                <f:selectItem itemLabel="HUF" itemValue="HUF"/>
                                <f:selectItem itemLabel="EUR" itemValue="EUR"/>
                                <f:selectItem itemLabel="USD" itemValue="USD"/>
                                <f:selectItem itemLabel="PLN" itemValue="PLN"/>
                                <f:selectItem itemLabel="RON" itemValue="RON"/>
                                <f:selectItem itemLabel="GBP" itemValue="GBP"/>
                                <f:selectItem itemLabel="CZK" itemValue="CZK"/>
                                <f:selectItem itemLabel="AUD" itemValue="AUD"/>
                                <f:selectItem itemLabel="SEK" itemValue="SEK"/>
                                <f:selectItem itemLabel="NOK" itemValue="NOK"/>
                                <f:selectItem itemLabel="TRY" itemValue="TRY"/>
                            </p:selectOneMenu>

                        </td>
                    </tr>
                </table>
                <p:commandButton id="doFilterButton2" value="SZŰRÉS" actionListener="#{displayController.refreshSaleDTOS()}" update="saleList"/>
            </p:panel>
            <p:dataTable var="sale" value="#{displayController.saleDTOS}" id="saleList"  tableStyle="width: auto"
                         lazy="false"
                        style="overflow-x: scroll; margin-bottom: 5em" allowUnsorting="true" sortMode="single"
                          emptyMessage="Nincs találat" resizableColumns="true">
                <p:columnGroup type="header">
                    <p:row >
                        <p:column headerText="Számla Sorszáma"/>
                        <p:column headerText="Vásárló neve"/>
                        <p:column headerText="Számla kelt." sortBy="#{sale.receiptDate}" sortOrder="asc"/>
                        <p:column headerText="VÉTELÁR"/>
                        <p:column headerText="Fiz. valuta"  />
                        <p:column headerText="I.OSZT"/>
                        <p:column headerText="II.OSZT"/>
                        <p:column headerText="III.OSZT"/>
                        <p:column headerText="IV.OSZT"/>
                        <p:column headerText="GYÖKÉR"/>
                        <p:column headerText="IPARI"/>
                        <p:column headerText="Fiz. határidő"/>
                        <p:column headerText="Kifizetés dát."/>
                        <p:column headerText="GGAP"/>
                        <p:column headerText="LÉTAI"/>
                        <p:column headerText="PAPÍR"/>

                    </p:row>
                    <p:row>
                        <p:column colspan="3" headerText="Összesen: " style="text-align: end"/>
                        <p:column colspan="2" rowspan="2" headerText="#{displayController.saleSumPojo.priceTotal}" />
                        <p:column  headerText="#{displayController.saleSumPojo.one}" />
                        <p:column  headerText="#{displayController.saleSumPojo.two}" />
                        <p:column  headerText="#{displayController.saleSumPojo.three}" />
                        <p:column  headerText="#{displayController.saleSumPojo.four}" />
                        <p:column  headerText="#{displayController.saleSumPojo.five}" />
                        <p:column  headerText="#{displayController.saleSumPojo.six}" />


                        <p:column  />
                    </p:row>

                </p:columnGroup>
                <p:column headerText="Számla Sorszáma"  width="5em" >
                    <h:outputText value="#{sale.receiptId}" id="saleId"/>
                </p:column>
                <p:column headerText="Eladó neve"   width="5em" >
                    <h:outputText value="#{sale.buyer.name}"/>
                </p:column>


                <p:column headerText="Számla kelt"   width="4.5em"  sortBy="#{sale.receiptDate}" sortOrder="asc">
                    <h:outputText value="#{sale.receiptDate}">
                        <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                    </h:outputText>
                </p:column>
                <p:column headerText="Vételár"   width="5em" >
                    <h:outputText value="#{sale.formattedPrice}"/>
                </p:column>
                <p:column headerText="Fiz. valuta"   width="5em" >
                    <h:outputText value="#{sale.currency}"/>
                </p:column>



                <p:column headerText="I.OSZT" >
                    <h:outputText value="#{sale.one}"/>
                </p:column>
                <p:column headerText="II.OSZT" >
                    <h:outputText value="#{sale.two}"/>
                </p:column>
                <p:column headerText="III.OSZT" >
                    <h:outputText value="#{sale.three}"/>
                </p:column>
                <p:column headerText="IV.OSZT" >
                    <h:outputText value="#{sale.four}"/>
                </p:column>
                <p:column headerText="GYÖKÉR" >
                    <h:outputText value="#{sale.five}"/>
                </p:column>
                <p:column headerText="IPARI" >
                    <h:outputText value="#{sale.six}"/>
                </p:column>
                <p:column headerText="Fiz. határidő"   width="4.5em" >
                    <h:outputText value="#{sale.deadLine}">
                        <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                    </h:outputText>
                </p:column>
                <p:column headerText="Kifizetés dát."   width="4.5em" >
                    <h:outputText value="#{sale.completionDate}">
                        <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                    </h:outputText>
                </p:column>
                <p:column headerText="GGAP"   width="5em" >
                    <h:outputText value="#{sale.globalAsString}"/>
                </p:column>
                <p:column headerText="LETAI"   width="5em" >
                    <h:outputText value="#{sale.letaiAsString}"/>
                </p:column>
                <p:column headerText="Papír"   width="5em" >
                    <h:outputText value="#{sale.buyer.paper}"/>
                </p:column>
            </p:dataTable>
        </p:tab>
        <p:tab title="Mérlegelési jegyek">
            <p:panel id="filterPanelPurchase" menuTitle="Szűrők">
                <table>
                    <tr>
                        <td>
                            <p:outputLabel for="nameFilter" value="Név alapján: "/>
                            <p:selectOneMenu id="nameFilter"
                                             value="#{displayController.filterName}"
                                             panelStyle="overflow: scroll; left: 0;  position: static"
                                             style="width: 100%; box-sizing: border-box; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; min-width: 100%;"
                                             converter="#{vendorConverter}" filter="true" filterMatchMode="contains">
                                <p:ajax event="select" listener="#{vendorServiceImpl.allVendors}"
                                        update="nameFilter"/>
                                <f:selectItem itemValue="#{null}" itemLabel="Válasszon" noSelectionOption="true"/>
                                <f:selectItems value="#{vendorServiceImpl.allVendors}" var="vendorvar"
                                               itemLabel="#{vendorvar.vendorName}(#{vendorvar.birthPlace}, #{vendorvar.formattedBirthDate})"
                                               itemValue="#{vendorvar}"/>
                            </p:selectOneMenu><br/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p:outputLabel for="dateFromFilter" value="Dátum: "/>
                            <p:inputMask mask="9999.99.99" id="dateFromFilter" value="#{displayController.filterDateFrom}" >
                                <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                            </p:inputMask>
                            <p:outputLabel for="dateFromFilter" value="-tól "/>
                            <p:inputMask mask="9999.99.99" id="dateToFilter" value="#{displayController.filterDateTo}" >
                                <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                            </p:inputMask>
                            <p:outputLabel for="dateFromFilter" value="-ig"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p:outputLabel for="fullyPaidFilter" value="Kiegyenlítés alapján: "/>
                            <p:selectOneMenu id="fullyPaidFilter" value="#{displayController.fullyPaidFilter}" >
                                <f:selectItem itemValue="#{null}" noSelectionOption="true" itemLabel="Mind" />
                                <f:selectItem itemValue="#{true}"  itemLabel="Kiegyenlítetlen" />
                                <f:selectItem itemValue="#{false}"  itemLabel="Kiegyenlített" />
                            </p:selectOneMenu><br/>
                        </td>
                    </tr>
                </table>

                <p:commandButton id="doFilterButton" actionListener="#{displayController.refreshPurchaseDTOS()}" value="SZŰRÉS"  update="purchaseList"/>
            </p:panel>
            <p:dataTable var="purchase" value="#{displayController.purchaseDTOS}" id="purchaseList" tableStyle="width: auto"
                         lazy="false"
                          style="overflow-x: scroll; margin-bottom: 5em" allowUnsorting="true" sortMode="single"
                         emptyMessage="Nincs találat" resizableColumns="true">
                <p:columnGroup type="header">
                    <p:row >
                        <p:column headerText="Sorszám"/>
                        <p:column headerText="Eladó neve"/>
                        <p:column headerText="I.OSZT"/>
                        <p:column headerText="II.OSZT"/>
                        <p:column headerText="III.OSZT"/>
                        <p:column headerText="IV.OSZT"/>
                        <p:column headerText="GYÖKÉR"/>
                        <p:column headerText="IPARI"/>
                        <p:column headerText="VÉTELÁR"/>
                        <p:column headerText="Papírozatlan"/>
                        <p:column headerText="Mérlegelés Dátuma" sortOrder="asc" sortBy="#{purchase.receiptDate}"/>
                    </p:row>
                    <p:row>
                        <p:column colspan="2" headerText="Összesen: " style="text-align: end"/>
                        <p:column  headerText="#{displayController.purchaseSumObj.one}" />
                        <p:column  headerText="#{displayController.purchaseSumObj.two}" />
                        <p:column  headerText="#{displayController.purchaseSumObj.three}" />
                        <p:column  headerText="#{displayController.purchaseSumObj.four}" />
                        <p:column  headerText="#{displayController.purchaseSumObj.five}" />
                        <p:column  headerText="#{displayController.purchaseSumObj.six}" />
                        <p:column  headerText="#{displayController.getFormattedNumber(displayController.purchaseSumObj.totalP)} HUF" />
                        <p:column  headerText="#{displayController.getFormattedNumber(displayController.purchaseSumObj.remP)} HUF" colspan="2" />

                    </p:row>

                </p:columnGroup>

                <p:column headerText="Sorszám"  width="5em" >
                    <h:outputText value="#{purchase.id}" id="id"/>
                </p:column>
                <p:column headerText="Eladó neve"   width="5em" >
                    <h:outputText value="#{purchase.vendor.vendorName}"/>
                </p:column>
                <p:column headerText="I.OSZTÁLYÚ"   width="5em" >
                    <h:outputText value="#{purchase.productList.get(0).quantity2}"/>
                </p:column>
                <p:column headerText="II.OSZTÁLYÚ"  width="5em" >
                    <h:outputText value="#{purchase.productList.get(1).quantity2}"/>
                </p:column>
                <p:column headerText="III.OSZTÁLYÚ"  width="5em" >
                    <h:outputText value="#{purchase.productList.get(2).quantity2}"/>
                </p:column>
                <p:column headerText="IV.OSZTÁLYÚ"  width="5em" >
                    <h:outputText value="#{purchase.productList.get(3).quantity2}"/>
                </p:column>
                <p:column headerText="GYÖKÉR"  width="5em" >
                    <h:outputText value="#{purchase.productList.get(4).quantity2}"/>
                </p:column>
                <p:column headerText="IPARI"  width="5em" >
                    <h:outputText value="#{purchase.productList.get(5).quantity2}"/>
                </p:column>

                <p:column headerText="Vételár"   width="5em" >
                    <h:outputText value="#{purchase.formattedTotalPrice} HUF"/>
                </p:column>
                <p:column headerText="Papírozatlan"   width="5em" >
                    <h:outputText value="#{displayController.getFormattedNumber(purchase.remainingPrice)} HUF"/>
                </p:column>

                <p:column headerText="Mérlegelés dátuma"   width="4.5em" sortOrder="asc" sortBy="#{purchase.receiptDate}">
                    <h:outputText value="#{purchase.receiptDate}">
                        <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                    </h:outputText>
                </p:column>
            </p:dataTable>
        </p:tab>

        <p:tab title="Közvetítők">


            <p:panel id="filterPanelMediator" menuTitle="Közvetítők szerint">
                <table>

                    <tr>
                        <td>
                            <p:outputLabel for="dateFromFilter3" value="Dátum: "/>
                            <p:inputMask mask="9999.99.99" id="dateFromFilter3" value="#{displayController.filterDateFrom3}" >
                                <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                            </p:inputMask>
                            <p:outputLabel for="dateFromFilter3" value="-tól "/>
                            <p:inputMask mask="9999.99.99" id="dateToFilter3" value="#{displayController.filterDateTo3}" >
                                <f:convertDateTime pattern="yyyy.MM.dd" timeZone="GMT+1"/>
                            </p:inputMask>
                            <p:outputLabel for="dateFromFilter3" value="-ig"/>
                        </td>
                    </tr>
                </table>
                <p:commandButton id="doFilterButton3" actionListener="#{displayController.refreshMediatorDisplays()}" value="SZŰRÉS" update="mediatorList"/>
            </p:panel>
            <p:dataTable var="mediatorData" value="#{displayController.mediatorData}" id="mediatorList" stickyHeader="T" tableStyle="width: auto"
                         lazy="false"
                         style="overflow-x: scroll; margin-bottom: 5em"
                         emptyMessage="Nincs találat" resizableColumns="true">
                <p:column headerText="Közvetítő neve" width="5em" groupRow="true" >
                    <h:outputText value="#{mediatorData.mediatorName}" id="mediatorName"/>
                </p:column>
                <p:column headerText="Termék" width="5em" >
                    <h:outputText value="#{mediatorData.productName}" />
                </p:column>
                <p:column headerText="Mennyiség" width="5em" >
                    <h:outputText value="#{displayController.getFormattedNumber( mediatorData.quantity)} kg" />
                </p:column>
                <p:column headerText="Vételár" width="5em" >
                    <h:outputText value="#{displayController.getFormattedNumber(mediatorData.totalPrice)} HUF" />
                </p:column>
                <p:column headerText="Összesen" width="5em" groupRow="true" >
                    <h:outputText value="#{displayController.getFormattedNumber(displayController.getMediatorTotalPriceSumByMediator(mediatorData.mediatorName))} HUF" />
                </p:column>
            </p:dataTable>


        </p:tab>

    </p:tabView>

</h:form>
</html>




